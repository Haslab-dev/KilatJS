<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HTMX Example - KilatJS</title>
    <meta name="description" content="Server-driven interactivity using HTMX" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body class="bg-neutral-50 min-h-screen">
    <div class="max-w-4xl mx-auto px-6 py-12">
        <a href="/examples" class="text-violet-600 hover:underline mb-4 inline-block">‚Üê Back to Examples</a>
        
        <h1 class="text-3xl font-bold text-neutral-900 mb-2">HTMX Examples</h1>
        <p class="text-neutral-500 mb-8">
            Server-driven UI updates without writing JavaScript.
        </p>

        <div class="space-y-8">
            <!-- Click to Load -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Click to Load</h2>
                <p class="text-neutral-600 mb-4">
                    Click the button to fetch content from the server.
                </p>
                <button 
                    hx-get="/api/htmx/greeting"
                    hx-target="#greeting-result"
                    hx-swap="innerHTML"
                    class="px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-medium cursor-pointer"
                >
                    Load Greeting
                </button>
                <div id="greeting-result" class="mt-4 p-4 bg-neutral-50 rounded-lg min-h-[60px]">
                    <span class="text-neutral-400">Click the button to load content...</span>
                </div>
                <pre class="mt-4 p-3 bg-neutral-50 rounded-lg text-sm overflow-x-auto">&lt;button 
  hx-get="/api/htmx/greeting"
  hx-target="#result"
  hx-swap="innerHTML"&gt;
  Load Greeting
&lt;/button&gt;
&lt;div id="result"&gt;&lt;/div&gt;</pre>
            </section>

            <!-- Search with Debounce -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Live Search</h2>
                <p class="text-neutral-600 mb-4">
                    Type to search - results update as you type (debounced).
                </p>
                <input 
                    type="text"
                    name="q"
                    placeholder="Search users..."
                    hx-get="/api/htmx/search"
                    hx-trigger="keyup changed delay:300ms"
                    hx-target="#search-results"
                    class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"
                />
                <div id="search-results" class="mt-4 space-y-2">
                    <p class="text-neutral-400 text-sm">Start typing to search...</p>
                </div>
                <pre class="mt-4 p-3 bg-neutral-50 rounded-lg text-sm overflow-x-auto">&lt;input 
  hx-get="/api/htmx/search"
  hx-trigger="keyup changed delay:300ms"
  hx-target="#results"
  name="q"
/&gt;</pre>
            </section>

            <!-- Infinite Scroll -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Load More (Infinite Scroll Pattern)</h2>
                <div id="posts-container" class="space-y-2">
                    <div class="p-3 bg-neutral-50 rounded-lg">Post 1: Introduction to HTMX</div>
                    <div class="p-3 bg-neutral-50 rounded-lg">Post 2: Server-Driven UI</div>
                    <div class="p-3 bg-neutral-50 rounded-lg">Post 3: No JavaScript Required</div>
                </div>
                <button 
                    hx-get="/api/htmx/posts?page=2"
                    hx-target="#posts-container"
                    hx-swap="beforeend"
                    class="mt-4 w-full px-4 py-2 bg-neutral-100 hover:bg-neutral-200 rounded-lg font-medium cursor-pointer"
                >
                    Load More Posts
                </button>
            </section>

            <!-- Form Submission -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Form Submission</h2>
                <p class="text-neutral-600 mb-4">
                    Submit forms without page reload.
                </p>
                <form 
                    hx-post="/api/htmx/subscribe"
                    hx-target="#subscribe-result"
                    hx-swap="innerHTML"
                    class="flex gap-2"
                >
                    <input 
                        type="email"
                        name="email"
                        placeholder="Enter your email"
                        required
                        class="flex-1 px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"
                    />
                    <button 
                        type="submit"
                        class="px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg font-medium cursor-pointer"
                    >
                        Subscribe
                    </button>
                </form>
                <div id="subscribe-result" class="mt-4"></div>
            </section>

            <!-- Delete with Confirmation -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Delete with Confirmation</h2>
                <div id="item-list" class="space-y-2">
                    <div class="flex items-center justify-between p-3 bg-neutral-50 rounded-lg">
                        <span>Item 1</span>
                        <button 
                            hx-delete="/api/htmx/item/1"
                            hx-target="closest div"
                            hx-swap="outerHTML"
                            hx-confirm="Are you sure you want to delete this item?"
                            class="px-3 py-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-sm cursor-pointer"
                        >
                            Delete
                        </button>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-neutral-50 rounded-lg">
                        <span>Item 2</span>
                        <button 
                            hx-delete="/api/htmx/item/2"
                            hx-target="closest div"
                            hx-swap="outerHTML"
                            hx-confirm="Are you sure you want to delete this item?"
                            class="px-3 py-1 bg-red-100 hover:bg-red-200 text-red-600 rounded text-sm cursor-pointer"
                        >
                            Delete
                        </button>
                    </div>
                </div>
                <pre class="mt-4 p-3 bg-neutral-50 rounded-lg text-sm overflow-x-auto">&lt;button 
  hx-delete="/api/item/1"
  hx-target="closest div"
  hx-swap="outerHTML"
  hx-confirm="Are you sure?"&gt;
  Delete
&lt;/button&gt;</pre>
            </section>

            <!-- Polling -->
            <section class="bg-white rounded-2xl p-6 border border-neutral-200 shadow-sm">
                <h2 class="text-xl font-semibold text-neutral-900 mb-4">Auto-Refresh (Polling)</h2>
                <p class="text-neutral-600 mb-4">
                    This section auto-updates every 5 seconds.
                </p>
                <div 
                    hx-get="/api/htmx/time"
                    hx-trigger="load, every 5s"
                    hx-swap="innerHTML"
                    class="p-4 bg-neutral-50 rounded-lg font-mono"
                >
                    Loading...
                </div>
                <pre class="mt-4 p-3 bg-neutral-50 rounded-lg text-sm overflow-x-auto">&lt;div 
  hx-get="/api/htmx/time"
  hx-trigger="load, every 5s"&gt;
  Loading...
&lt;/div&gt;</pre>
            </section>
        </div>

        <div class="mt-8 p-4 bg-amber-50 rounded-xl border border-amber-200">
            <p class="text-sm text-amber-800">
                <strong>Note:</strong> HTMX is loaded via CDN. 
                The API endpoints return HTML fragments, not JSON!
            </p>
        </div>
    </div>
</body>
</html>
